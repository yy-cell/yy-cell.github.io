{"title":"","slug":"QOS服务质量配置","date":"2019-08-21T10:54:39.418Z","updated":"2019-08-21T10:54:39.667Z","comments":true,"path":"api/articles/QOS服务质量配置.json","photos":[],"link":"","excerpt":null,"covers":["https://s2.ax1x.com/2019/08/21/mUre7F.png"],"content":"<h1 id=\"QOS服务质量配置\"><a href=\"#QOS服务质量配置\" class=\"headerlink\" title=\"QOS服务质量配置\"></a>QOS服务质量配置</h1><p><img src=\"https://s2.ax1x.com/2019/08/21/mUre7F.png\" alt></p>\n<p>QOS（（服务质量）是网络的一种安全机制, 是一种用于解决网络延迟和阻塞等问题的技术，包括传输的带宽、传送的时延、数据的丢包率等。在网<br>络中可以通过保证传输的带宽、降低传送的时延、降低数据的丢包率以及时延抖动等措施来提高服务质量。</p>\n<p>CBWFQ配置：（CBWFQ：基本类型的加权公平排队。CBWFQ能根据用户定义识别出某种类流，并为该条流分配一定的权重）<br>Router(config)#class-map http_ftp  //创建名为http_ftp分类表，并进入分类表模式<br>Router(config-cmap)#match protocol http //匹配http协议<br>Router(config-cmap)#match protocol ftp  //匹配ftp协议建立<br>Router(config)#policy-map duilie //创建名为duilie的策略表，并进入策略表模式<br>Router(config-pmap)#class http_ftp //建立名为http_ftp分类表<br>Router(config-pmap-c)#bandwidth 512 //设置带宽为512<br>Router(config-pmap-c)#exit<br>Router(config-pmap)#class class-default  //默认类<br>Router(config-pmap-c)#fair-queue      //设置端口队列<br>Router(config-pmap-c)#int f0/1<br>Router(config-if)#service-policy output duilie 应用队列策略<br>Router#show policy-map   //查看CBWFQ的配置情况</p>\n<p>PQ的配置：（PQ：优先权排队。可以配置高（High）、中（Middle）、普通（Normal）、低（Low）四种通信优先级，优先权级别高的通信总会比优先权级别低的通信提前得到服务。）<br>使用PQ设置来保证web服务优先传输，ftp服务 优先级设置为最低：<br>Router(config)#ip access-list extended 101<br>Router(config-ext-nacl)#permit tcp any any eq www<br>Router(config)#ip access-list extended 102<br>Router(config-ext-nacl)#permit tcp any any eq ftp<br>Router(config)#priority-list 1 protocol ip high list 101  //根据协议类型排队的优先级<br>Router(config)#priority-list 1 protocol ip low list 102<br>Router(config-if)#priority-group 1 将优先级列表应用到接口上<br>Router#show queueing   //查看PQ配置情况</p>\n<p>CQ的配置：<br>设置ftp服务的优先级发送在www服务前发送<br>Router(config)#access-list 102 permit tcp any any eq ftp<br>Router(config)#access-list 103 permit tcp any any eq www<br>Router(config)#queue-list 1 protocol ip 1 list 102<br>Router(config)#queue-list 1 protocol ip 2 list 103<br>Router(config-if)#priority-group 1<br>Router#show queueing<br>Current custom queue configuration:</p>\n<p>List Queue Args<br>1 1 protocol ip list 102<br>1 2 protocol ip list 103<br>Current random-detect configuration:</p>\n","categories":[],"tags":[]}